<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Cyberpunk VR Gallery — 6 Artworks</title>
    <!-- A-Frame core -->
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

    <style>
      html, body { margin: 0; height: 100%; background:#0b0f1a; }
      /* Minimal neon HUD */
      .hud {
        position: fixed; left: 0; right: 0; top: 0; display:flex; justify-content:space-between; align-items:center; padding: 10px 12px; pointer-events: none; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", sans-serif; }
      .badge {
        pointer-events:auto; color:#7df9ff; letter-spacing:.06em; text-shadow:0 0 8px rgba(125,249,255,.8), 0 0 16px rgba(180, 0, 255, .6);
        font-weight:700; border:1px solid rgba(125,249,255,.35); padding:6px 10px; border-radius:999px; backdrop-filter: blur(6px); background: linear-gradient(90deg, rgba(13,20,36,.55), rgba(13,20,36,.2));
      }
      .tips {
        pointer-events:auto; color:#a5b4fc; font-size:12px; opacity:.9; border:1px solid rgba(165,180,252,.3); border-radius:12px; padding:8px 10px; background: linear-gradient(180deg, rgba(28,18,48,.6), rgba(10,12,24,.6)); text-shadow:0 0 6px rgba(165,180,252,.6);
      }
      .footer { position:fixed; bottom:10px; left:50%; transform:translateX(-50%); color:#7df9ff; font-size:12px; opacity:.8; text-shadow:0 0 6px rgba(125,249,255,.7); }
      .btn { pointer-events:auto; cursor:pointer; border:1px solid rgba(180,0,255,.4); color:#e9d5ff; background:rgba(53,15,87,.5); padding:6px 10px; border-radius:8px; margin-left:8px; }
      @media (max-width: 640px){ .tips{ display:none; } }
    </style>
  </head>

  <body>
    <!-- HUD -->
    <div class="hud">
      <div class="badge">CYBERPUNK // VR GALLERY</div>
      <div>
        <button class="btn" id="resetBtn" title="Return to center">Reset</button>
        <button class="btn" id="toggleWalkBtn" title="Toggle walk mode (WASD / hotspots)">Walk: ON</button>
      </div>
    </div>
    <div class="footer">Desktop: WASD + mouse · Mobile: Look around + tap glowing pads to move · VR: use controllers</div>

    <a-scene renderer="colorManagement: true; physicallyCorrectLights: true; antialias: true" vr-mode-ui="enabled: true">
      <!-- ASSETS: updated to GitHub Pages URLs -->
      <a-assets>
        <img id="art1" crossorigin="anonymous" src="https://artofproof.github.io/art/114b7eb2-aa73-4012-a384-dfc5cb8bd0a6.png" />
        <img id="art2" crossorigin="anonymous" src="https://artofproof.github.io/art/205b28f0-a623-48e8-996a-04fd19c9df6a.png" />
        <img id="art3" crossorigin="anonymous" src="https://artofproof.github.io/art/4cd72a9c-ab47-460e-aa98-9dda68d7bfb2.png" />
        <img id="art4" crossorigin="anonymous" src="https://artofproof.github.io/art/8e48651d-fd26-4be3-9cec-7dec14b47bfd.png" />
        <img id="art5" crossorigin="anonymous" src="https://artofproof.github.io/art/e37460ef-dbb5-43a2-b844-d74ebed1c4bf.png" />
        <img id="art6" crossorigin="anonymous" src="https://artofproof.github.io/art/npub1q39st7du4ww4j8tr389nlw0snrwg5ctwvcdsdmhqy3prcesrwjvq6vnzug.png" />

        <!-- MSDF font for crisp A-Frame text -->
        <a-asset-item id="font-msdf" src="https://cdn.aframe.io/fonts/mozillavr.fnt"></a-asset-item>
        <img id="font-msdf-img" src="https://cdn.aframe.io/fonts/mozillavr.png">
      </a-assets>

      <!-- LIGHTING: neon vibes -->
      <a-entity light="type: hemisphere; intensity: 0.7; color: #88aaff; groundColor: #220044" position="0 6 0"></a-entity>
      <a-entity light="type: point; intensity: 1.2; distance: 35; color:#00e5ff" position="6 3 0"></a-entity>
      <a-entity light="type: point; intensity: 1.2; distance: 35; color:#b300ff" position="-6 3 0"></a-entity>

      <!-- SKY / BACKDROP: cyber gradient -->
      <a-sky color="#0a0e1a"></a-sky>

      <!-- FLOOR: glossy dark -->
      <a-plane rotation="-90 0 0" width="40" height="40" color="#0b0f1a" material="metalness:0.7; roughness:0.2; opacity:0.98; side:double"></a-plane>

      <!-- NEON RING CEILING -->
      <a-torus position="0 6 0" radius="5" radius-tubular="0.04" color="#7df9ff" material="emissive:#7df9ff; emissiveIntensity: 0.7; metalness: 0.2"></a-torus>

      <!-- CAMERA RIG (player) -->
      <a-entity id="rig" position="0 1.6 6">
        <a-entity id="camera" camera look-controls wasd-controls="acceleration: 30"></a-entity>
        <!-- Cursor for tapping hotspots on mobile/desktop -->
        <a-entity cursor="rayOrigin: mouse" raycaster="objects: .hotspot, .artFrame"></a-entity>
      </a-entity>

      <!-- ARTWORKS will be generated here -->
      <a-entity id="gallery"></a-entity>

      <!-- GLOWING CENTER -->
      <a-ring position="0 0.01 0" rotation="-90 0 0" radius-inner="0.6" radius-outer="0.8" color="#b300ff" material="emissive:#b300ff; emissiveIntensity:0.6; opacity:0.9"></a-ring>

      <!-- SCRIPT is unchanged, generates gallery dynamically -->
      <script>
        // ---- Configuration: set your art metadata here ----
        const ART = [
          { src:'#art1', title:'Orphan From Hell', npub:'npub1xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx', desc:'A rebellious ode to rejected consensus.', href:'https://example.com/art1' },
          { src:'#art2', title:'Neon Node', npub:'npub1yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy', desc:'A relay of color and code.', href:'https://example.com/art2' },
          { src:'#art3', title:'Proof of Vibes', npub:'npub1zzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzzz', desc:'Where hashes hum and pixels sing.', href:'https://example.com/art3' },
          { src:'#art4', title:'Forked Horizon', npub:'npub1aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa', desc:'Parallel futures in neon glass.', href:'https://example.com/art4' },
          { src:'#art5', title:'Lightning Bloom', npub:'npub1bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb', desc:'Value zaps across a midnight garden.', href:'https://example.com/art5' },
          { src:'#art6', title:'Key Vault Idol', npub:'npub1cccccccccccccccccccccccccccccccccccccc', desc:'Secrets sleep behind cold steel.', href:'https://example.com/art6' },
        ];

        // (rest of script unchanged)
        const RADIUS = 6;
        const HEIGHT = 2.1;
        const gallery = document.getElementById('gallery');
        const rig = document.getElementById('rig');
        const camera = document.getElementById('camera');
        const toggleWalkBtn = document.getElementById('toggleWalkBtn');
        const resetBtn = document.getElementById('resetBtn');

        ART.forEach((item, i) => {
          const angle = (i / ART.length) * Math.PI * 2;
          const x = Math.sin(angle) * RADIUS;
          const z = Math.cos(angle) * RADIUS;
          const yaw = -AFRAME.utils.radToDeg(angle);

          const group = document.createElement('a-entity');
          group.setAttribute('position', `${x} 0 ${z}`);
          group.setAttribute('rotation', `0 ${yaw} 0`);

          const pedestal = document.createElement('a-cylinder');
          pedestal.setAttribute('position', `0 0.35 0`);
          pedestal.setAttribute('radius', '0.25');
          pedestal.setAttribute('height', '0.7');
          pedestal.setAttribute('color', '#1a1030');
          pedestal.setAttribute('material', 'metalness:0.6; roughness:0.2; emissive:#3a0ca3; emissiveIntensity:0.25');
          group.appendChild(pedestal);

          const glow = document.createElement('a-torus');
          glow.setAttribute('position', `0 0.05 0`);
          glow.setAttribute('rotation', `90 0 0`);
          glow.setAttribute('radius', '0.7');
          glow.setAttribute('radius-tubular', '0.03');
          glow.setAttribute('color', '#00e5ff');
          glow.setAttribute('material', 'emissive:#00e5ff; emissiveIntensity:0.7');
          group.appendChild(glow);

          const frame = document.createElement('a-entity');
          frame.classList.add('artFrame');
          frame.setAttribute('position', `0 ${HEIGHT} 0`);

          const border = document.createElement('a-box');
          border.setAttribute('position', '0 0 0');
          border.setAttribute('depth', '0.06');
          border.setAttribute('height', '2.1');
          border.setAttribute('width', '1.6');
          border.setAttribute('color', '#120b1e');
          border.setAttribute('material', 'metalness:0.8; roughness:0.15; emissive:#6400ff; emissiveIntensity:0.35');
          frame.appendChild(border);

          const art = document.createElement('a-plane');
          art.setAttribute('width', '1.4');
          art.setAttribute('height', '1.8');
          art.setAttribute('position', '0 0 0.04');
          art.setAttribute('src', item.src);
          art.setAttribute('material', 'side: front; shader: standard; metalness:0.1; roughness:0.9');
          frame.appendChild(art);

          const title = document.createElement('a-text');
          title.setAttribute('value', item.title);
          title.setAttribute('align', 'center');
          title.setAttribute('width', '2.6');
          title.setAttribute('color', '#7df9ff');
          title.setAttribute('position', '0 -1.25 0.06');
          title.setAttribute('shader', 'msdf');
          frame.appendChild(title);

          const npub = document.createElement('a-text');
          npub.setAttribute('value', `npub: ${item.npub}`);
          npub.setAttribute('align', 'center');
          npub.setAttribute('width', '2.6');
          npub.setAttribute('color', '#a5b4fc');
          npub.setAttribute('position', '0 -1.45 0.06');
          npub.setAttribute('shader', 'msdf');
          frame.appendChild(npub);

          const desc = document.createElement('a-text');
          desc.setAttribute('value', item.desc);
          desc.setAttribute('align', 'center');
          desc.setAttribute('width', '2.6');
          desc.setAttribute('color', '#e9d5ff');
          desc.setAttribute('position', '0 -1.65 0.06');
          desc.setAttribute('shader', 'msdf');
          frame.appendChild(desc);

          frame.setAttribute('class', 'artFrame');
          frame.setAttribute('event-set__enter', 'scale: 1.02 1.02 1.02');
          frame.setAttribute('event-set__leave', 'scale: 1 1 1');
          frame.addEventListener('click', () => {
            if (!item.href) return;
            window.open(item.href, '_blank');
          });

          group.appendChild(frame);

          const spot = document.createElement('a-ring');
          spot.classList.add('hotspot');
          spot.setAttribute('position', '0 0.02 1.6');
          spot.setAttribute('rotation', '-90 0 0');
          spot.setAttribute('radius-inner', '0.18');
          spot.setAttribute('radius-outer', '0.28');
          spot.setAttribute('color', '#00e5ff');
          spot.setAttribute('material', 'emissive:#00e5ff; emissiveIntensity: 0.8; opacity:0.9');
          spot.setAttribute('animation__pulse', 'property: scale; dir: alternate; to: 1.1 1.1 1.1; loop: true; dur: 1200; easing: easeInOutSine');

          spot.addEventListener('click', () => smoothTeleport(group.object3D.localToWorld(new THREE.Vector3(0, 0, 1.1))));
          group.appendChild(spot);

          gallery.appendChild(group);
        });

        function smoothTeleport(targetWorldVec3){
          const start = new THREE.Vector3().copy(rig.object3D.position);
          const end = targetWorldVec3.clone();
          end.y = 1.6;
          const startTime = performance.now();
          const DURATION = 450;
          function step(){
            const t = Math.min(1, (performance.now() - startTime) / DURATION);
            rig.object3D.position.lerpVectors(start, end, easeInOutCubic(t));
            if (t < 1) requestAnimationFrame(step);
          }
          requestAnimationFrame(step);
        }
        function easeInOutCubic(t){ return t<0.5 ? 4*t*t*t : 1 - Math.pow(-2*t + 2, 3)/2; }

        let walkingEnabled = true;
        toggleWalkBtn.addEventListener('click', () => {
          walkingEnabled = !walkingEnabled;
          camera.setAttribute('wasd-controls', walkingEnabled ? 'acceleration:30' : 'enabled:false');
          toggleWalkBtn.textContent = `Walk: ${walkingEnabled ? 'ON' : 'OFF'}`;
        });

        resetBtn.addEventListener('click', () => {
          rig.setAttribute('position', '0 1.6 6');
        });

        const scene = document.querySelector('a-scene');
        scene.addEventListener('loaded', () => {
          const renderer = scene.renderer;
          if (renderer) {
            const dpr = Math.min(window.devicePixelRatio || 1, 1.6);
            renderer.setPixelRatio(dpr);
          }
        });
      </script>
    </a-scene>
  </body>
</html>
